spring:
  application:
    name: n1netails-cipher-service
  profiles:
    active: ${N1NETAILS_PROFILE:dev}

server.port: 9905

n1netails:
  database:
    enabled: ${N1NETAILS_DATABASE_ENABLED:false}

# Swagger UI Customization
springdoc:
  swagger-ui:
    path: /swagger-ui.html
    tags-sorter: alpha
    operations-sorter: alpha
    display-request-duration: true

---

spring:
  config:
    activate:
      on-profile: dev
  datasource:
    initialization-mode: never
    url: ${POSTGRES_URL:jdbc:postgresql://localhost/n1netails}
    username: ${POSTGRES_USERNAME:n1netails}
    password: ${POSTGRES_PASSWORD:n1netails}
    driver-class-name: org.postgresql.Driver
  jpa:
    defer-datasource-initialization: false
    show-sql: true
    hibernate:
      ddl-auto: validate
    properties:
      hibernate:
        default_schema: ntail
        dialect: org.hibernate.dialect.PostgreSQLDialect
  sql:
    init:
      mode: never

n1netails:
  encryption:
    rotate: ${N1NETAILS_ROTATE:false}
    old:
      key: ${N1NETAILS_ENCRYPTION_OLD_KEY:MDEyMzQ1Njc4OWFiY2RlZjAxMjM0NTY3ODlhYmNkZWY=}
    new:
      key: ${N1NETAILS_ENCRYPTION_NEW_KEY:MDEyMzQ1Njc4OWFiY2RlZjAxMjM0NTY3ODlhYmNkZWY=}
    key-rotation-type: ${N1NETAILS_KEY_ROTATION_TYPE:AES_TO_AES}
    # New Encryption Service Flags
    aes-gcm:
      enabled: ${N1NETAILS_ENCRYPTION_AES_GCM_ENABLED:true}
    chacha20:
      enabled: ${N1NETAILS_ENCRYPTION_CHACHA20_ENABLED:true}
    rsa-oaep:
      enabled: ${N1NETAILS_ENCRYPTION_RSA_OAEP_ENABLED:true}
    ec:
      enabled: ${N1NETAILS_ENCRYPTION_EC_ENABLED:true}
  hashing:
    sha-256:
      enabled: ${N1NETAILS_HASHING_SHA256_ENABLED:true}
    sha-512:
      enabled: ${N1NETAILS_HASHING_SHA512_ENABLED:true}
    argon2:
      enabled: ${N1NETAILS_HASHING_ARGON2_ENABLED:true}
    bcrypt:
      enabled: ${N1NETAILS_HASHING_BCRYPT_ENABLED:true}
  encoding:
    base64:
      enabled: ${N1NETAILS_ENCODING_BASE64_ENABLED:true}
    hex:
      enabled: ${N1NETAILS_ENCODING_HEX_ENABLED:true}
  ratelimit:
    capacity: ${N1NETAILS_RATELIMIT_CAPACITY:100}
    tokens-per-second: ${N1NETAILS_RATELIMIT_TPS:10}
